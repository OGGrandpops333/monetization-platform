<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Personal Finance Tracker</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      min-height: 100vh;
      background: linear-gradient(120deg, #232946 0%, #1a1a2e 100%);
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .tracker {
      background: #232946;
      border-radius: 20px;
      box-shadow: 0 4px 32px rgba(40,40,80,0.22);
      padding: 2em 2em 2em 2em;
      text-align: center;
      border: 2px solid #ffd700;
      min-width: 350px;
    }
      /* Mobile Responsive Styles */
      @media (max-width: 600px) {
        .tracker {
          min-width: 98vw;
          padding: 1em 0.5em;
          border-radius: 12px;
        }
        h1 {
          font-size: 1.3em;
        }
        table {
          font-size: 0.9em;
        }
        input, select {
          font-size: 1em;
        }
      }
    h1 {
      color: #ffd700;
      margin-bottom: 0.5em;
      text-shadow: 1px 1px 12px #232946;
    }
    table {
      width: 100%;
      margin-top: 1em;
      border-collapse: collapse;
      background: #1a1a2e;
      border-radius: 8px;
      overflow: hidden;
    }
    th, td {
      border: 1px solid #ffd700;
      padding: 8px;
      text-align: left;
      color: #fff;
    }
    th {
      background: #232946;
      color: #ffd700;
    }
    input, select {
      padding: 0.5em;
      margin: 0.2em 0.5em 0.2em 0;
      border: 1px solid #ccc;
      border-radius: 5px;
      font-size: 1em;
    }
    button {
      padding: 0.5em 1em;
      background: #ffd700;
      color: #232946;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-weight: bold;
      transition: background 0.2s, color 0.2s;
    }
    button:hover {
      background: #fff;
      color: #232946;
    }
    .balance {
      color: #ffd700;
      font-size: 1.3em;
      margin: 1em 0;
    }
  </style>
</head>
<body>
    <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:1em;">
      <div>
        <a href="store.html">&larr; Back</a>
        <a href="index.html" style="margin-left:1em;background:#ffd700;color:#232946;border:none;border-radius:8px;padding:0.5em 1.2em;font-weight:bold;cursor:pointer;text-decoration:none;">Home</a>
      </div>
    </div>
  <div class="tracker">
    <h1>Personal Finance Tracker</h1>
    <div class="balance">Balance: $<span id="balance">0.00</span></div>
    <form id="financeForm">
      <input type="text" id="desc" placeholder="Description (Luxury Dinner, Bonus, etc.)" required title="Enter a short note about the transaction, such as 'Luxury Dinner', 'Bonus', or 'Investment'">
      <p style="color:#ffd700;margin-bottom:1em;">Describe each transaction, e.g., <b>Luxury Dinner</b>, <b>Bonus</b>, or <b>Investment</b>.</p>
      <input type="number" id="amount" placeholder="Amount" required step="0.01">
      <select id="type">
        <option value="income">Income</option>
        <option value="expense">Expense</option>
      </select>
      <button type="submit">Add</button>
    </form>
    <table>
      <thead>
        <tr><th>Date</th><th>Description</th><th>Type</th><th>Amount</th></tr>
      </thead>
      <tbody id="records"></tbody>
    </table>
  </div>
  <script>
    function updateTable() {
      const tbody = document.getElementById('records');
      tbody.innerHTML = records.map(r => `<tr><td>${r.date}</td><td>${r.desc}</td><td>${r.type}</td><td>${r.type === 'expense' ? '-' : ''}$${parseFloat(r.amount).toFixed(2)}</td></tr>`).join('');
      const balance = records.reduce((sum, r) => sum + (r.type === 'income' ? parseFloat(r.amount) : -parseFloat(r.amount)), 0);
      document.getElementById('balance').textContent = balance.toFixed(2);
    }
    // Persistent storage for finance tracker
    let records = [];
    // Load records from localStorage
    if (localStorage.getItem('financeRecords')) {
      try {
        records = JSON.parse(localStorage.getItem('financeRecords')) || [];
      } catch (e) {
        records = [];
      }
    }
    function saveRecords() {
      localStorage.setItem('financeRecords', JSON.stringify(records));
    }
    function updateTable() {
      const tbody = document.getElementById('records');
      tbody.innerHTML = records.map(r => `<tr><td>${r.date}</td><td>${r.desc}</td><td>${r.type}</td><td>${r.type === 'expense' ? '-' : ''}$${parseFloat(r.amount).toFixed(2)}</td></tr>`).join('');
      const balance = records.reduce((sum, r) => sum + (r.type === 'income' ? parseFloat(r.amount) : -parseFloat(r.amount)), 0);
      document.getElementById('balance').textContent = balance.toFixed(2);
      saveRecords();
    }
    document.getElementById('financeForm').onsubmit = e => {
      e.preventDefault();
      const desc = document.getElementById('desc').value;
      const amount = document.getElementById('amount').value;
      const type = document.getElementById('type').value;
      const date = new Date().toLocaleDateString();
      records.push({ date, desc, amount, type });
      updateTable();
      e.target.reset();
    };
    updateTable();
  </script>
</body>
</html>
